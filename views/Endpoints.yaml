kind: Endpoints
default_command: endpoints
command:
- ep
listview:
  name: Endpoints
  group: Core
  field_indexes:
    Wide: [namespace, name, ports_ep, endpoints, age]
    Normal: [namespace, name, ports_ep, endpoints_ellipsise, age]
  fields:
    # Map ready & non-ready endpoints to ok, not ok;
    # we need some special way to handle this
    endpoints:
      header: "Endpoints:"
      path: subsets
      datagetter: datagetter_endpoint_ips
      formatter: list_with_status
    endpoints_ellipsise:
      header: "Endpoints:"
      path: subsets
      datagetter: datagetter_endpoint_ips
      formatter: list_with_status
      formatting:
        ellipsise: 3
    # Add alternative ports_ep too, that doesn't include service name
  sortcolumn: namespace
