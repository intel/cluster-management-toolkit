kind: Endpoints
default_command: endpoints
command:
- ep
listview:
  name: Endpoints
  group: Core
  field_indexes:
    Wide: [namespace, name, ports, endpoints, age]
    Normal: [namespace, name, ports_compact, endpoints_ellipsise, age]
  sortcolumn: namespace
  fields:
    # Map ready & non-ready endpoints to ok, not ok;
    # we need some special way to handle this
    endpoints:
      header: "Endpoints:"
      path: subsets
      datagetter: datagetter_endpoint_ips
      formatter: list_with_status
    endpoints_ellipsise:
      header: "Endpoints:"
      path: subsets
      datagetter: datagetter_endpoint_ips
      formatter: list_with_status
      formatting:
        ellipsise: 3
    ports:
      header: "Ports:"
      paths:
      - path: "subsets#ports"
        pathtype: items
        subpaths:
        - name
        - port
        - protocol
        type: raw
      formatter: list
      formatting:
        field_colors:
        - type: service
        - type: port
        - type: protocol
        field_separators:
        - type: port
        - type: service
    ports_compact:
      header: "Ports:"
      paths:
      - path: "subsets#ports"
        pathtype: items
        subpaths:
        - port
        - protocol
        type: raw
      formatter: list
      formatting:
        field_colors:
        - type: port
        - type: protocol
        field_separators:
        - type: service
        ellipsise: 3
infoview:
  name: Endpoints Info
  listpad:
    field_indexes:
      Normal: [addresses, ports_ep, status]
    sortcolumn: status
    infogetter: get_subsets_info
