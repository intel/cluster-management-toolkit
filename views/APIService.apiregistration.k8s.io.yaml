kind: APIService
api_family: apiregistration.k8s.io
default_command: apiservices
command:
- apisvcs
- apisvc
listview:
  name: API Services
  group: API & Extendability
  field_indexes:
    Normal: [name, api_service, available, age, status_message]
  fields:
    api_service:
      header: "Service:"
      paths:
      - path: [["spec#service#namespace"], ["spec#service#name"], ["spec#service#port"]]
        pathtype: tuple
        type: [name, name, name]
        default: ["", "Local", ""]
      formatter: list
      formatting:
        field_colors:
        - type: namespace
        - type: generic
        - type: port
        field_separators:
        - type: namespace
        - type: port
    available:
      header: "Available:"
      paths:
      - path: "status#conditions"
        pathtype: items
        subpath: status
        when:
        - key: type
          eq: Available
        default: "<unknown>"
      formatter: value_mapper
      formatting:
        mapping:
          mappings:
            "True":
              field_colors:
              - context: main
                type: status_ok
            "False":
              field_colors:
              - context: main
                type: status_not_ok
    status_message:
      header: "Status:"
      paths:
      - path: "status#conditions"
        pathtype: items
        subpath: message
        when:
        - key: type
          eq: Available
        default: ""
  shortcuts:
    "Show Service Info":
      key: s
      modifier: shift
      helptext: "Open service info page"
      action: call
      action_call: resourceinfodispatch_with_lookup
      action_args:
        _pass_obj: true
        kind: "Service"
        api_family: ""
        name_path: "spec#service#name"
        namespace_path: "spec#service#namespace"
