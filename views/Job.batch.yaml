kind: Job
api_family: batch
default_command: jobs
listview:
  name: Jobs
  group: Workloads
  field_indexes:
    Normal: [namespace, name, controller, completions, duration, job_state, age, completion_time, completion_mode, containers_template]
  sortcolumn: state
  fields:
    completion_mode:
      header: "Completion Mode:"
      path: "spec#completionMode"
      type: str
      default: "NonIndexed"
    completions:
      header: "Completions:"
      paths:
      - path: [["status#succeeded"], ["spec#completions"]]
        pathtype: tuple
        default: [0, 0]
      formatter: list
      formatting:
        field_colors:
        - type: numerical
        - type: numerical
        field_separators:
        - type: fraction
      align: right
    completion_time:
      header: "Completion Time:"
      path: "status#completionTime"
      type: timestamp
      formatter: timestamp
    containers_template:
      header: "Containers:"
      paths:
      - paths:
        - "spec#template#spec#initContainers"
        - "spec#template#spec#containers"
        pathtype: items
        subpaths:
        - name
        - subpath: image
        type: raw
      formatter: list
    controller:
      header: "Controller:"
      paths:
      - path: "metadata#ownerReferences"
        pathtype: items
        subpaths:
        - kind
        - apiVersion
        - name
        when:
          key: controller
          eq: true
        type: [kind, api_group, name]
      formatter: list
      formatting:
        field_colors:
        - type: kind
        - type: api_group
        - type: generic
        field_separators:
        - type: kind_api_group
        - type: kind
    duration:
      header: "Duration:"
      paths:
      - paths: [["status#startTime"], ["status#completionTime"]]
        pathtype: timediff
      formatter: age
      align: right
